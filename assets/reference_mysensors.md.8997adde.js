import{_ as s,c as n,o as a,Q as o}from"./chunks/framework.24343ae2.js";const A=JSON.parse('{"title":"Custom Sensors","description":"","frontmatter":{},"headers":[],"relativePath":"reference/mysensors.md","lastUpdated":1679254023000}'),e={name:"reference/mysensors.md"},l=o(`<h1 id="custom-sensors" tabindex="-1">Custom Sensors <a class="header-anchor" href="#custom-sensors" aria-label="Permalink to &quot;Custom Sensors&quot;">​</a></h1><p>You can add custom sensors by creating a sensors definition file called in <code>/share/hass-addon-sunsynk/mysensors.py</code></p><p>The <code>/share/</code> folder can be accessed through the Samba addon in Home Assistant. You can create the <code>hass-addon-sunsynk</code> folder &amp; the <code>mysensors.py</code> file</p><p>This is a Python file and follows the same logic as the definitions.py &amp; definitions3p.py. It exposes a single <code>SENSORS</code> global variable to which you can add the individual sensor definitions.</p><p>An example <code>mysensors.py</code> file:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> sunsynk </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> AMPS</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> CELSIUS</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> KWH</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> VOLT</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> WATT</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> sunsynk</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">rwsensors </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> NumberRWSensor</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> SelectRWSensor</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> TimeRWSensor</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> sunsynk</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sensors </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    MathSensor</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    Sensor</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    SensorDefinitions</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    TempSensor</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">SENSORS </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">SensorDefinitions</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">SENSORS </span><span style="color:#89DDFF;">+=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Sensor</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">178</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">My Custom Sensor</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> WATT</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><p>Once you have a file, you will see it in your addon&#39;s startup log:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">2023-03-19 16:25:00,156 INFO    Importing /share/hass-addon-sunsynk/mysensors.py...</span></span>
<span class="line"><span style="color:#A6ACCD;">2023-03-19 16:25:00,158 INFO      custom sensors: my_custom_sensor</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="using-the-sensor" tabindex="-1">Using the sensor <a class="header-anchor" href="#using-the-sensor" aria-label="Permalink to &quot;Using the sensor&quot;">​</a></h2><p>Once the sensor is available, you can add it to your configuration:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">SENSORS:</span></span>
<span class="line"><span style="color:#A6ACCD;"> - my_custom_sensor</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div>`,11),p=[l];function t(c,r,i,y,D,F){return a(),n("div",null,p)}const C=s(e,[["render",t]]);export{A as __pageData,C as default};
